<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN"
"http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">
<mapper namespace="com.llbt.cms.dao.TbTreeMapper">
	<!-- 查询结果映射 -->
	<resultMap id="searchResultMap" type="com.llbt.cms.entity.TbTree">
		<result property="cid" column="CID" />
		<result property="cname" column="CNAME" />
		<result property="pid" column="PID" />
	</resultMap>
	<!-- 用于select查询公用抽取的列 -->
	<sql id="columns">
		t.cid,t.cname,t.pid
	</sql>
	
	
	<!-- 查询所有记录 -->
	<select id="getAll" resultMap="searchResultMap" parameterType="java.lang.String">
		select
		<include refid="columns" />
		from
		TB_TREE t
	</select>
	
	<select id="getTreeNode" resultMap="searchResultMap" parameterType="java.lang.String">
		select
		<include refid="columns" />
		from
		TB_TREE t where t.cid = #{cid}
	</select>
	
	<select id="queryTreeNode" resultMap="searchResultMap" parameterType="java.lang.String">
		select
		<include refid="columns" />
		from
		TB_TREE t where t.pid = #{pid}
	</select>

</mapper>